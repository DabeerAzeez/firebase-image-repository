<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Firebase Image Repo</title>
</head>
<body>

<script src="/__/firebase/8.2.1/firebase-app.js"></script>
<script src="/__/firebase/8.2.1/firebase-analytics.js"></script>
<script src="/__/firebase/8.2.1/firebase-auth.js"></script>
<script src="/__/firebase/8.2.1/firebase-storage.js"></script>
<script src="/__/firebase/init.js?useEmulator=true"></script>

<script src="main.js"></script>

<img src="" id="selected_image" alt="selected image" width=560>
<div>
    <span id="image_counter_text" style="font-family: sans-serif"></span>
    <img src="images/Spinner.gif" id="loading_gif" height=40 style="margin-left: 20px">
</div>

<script>
    let selected_image = document.getElementById("selected_image")
    let image_counter_text = document.getElementById("image_counter_text")
    let default_image_path = "images/404NotFound.png"  // Default 404 not found
    selected_image.src=default_image_path

    let loading_gif = document.getElementById("loading_gif")
    loading_gif.hidden=true;
</script>

<div>
    <input type="file" id="image_upload">
    <script>
        let image_upload = document.getElementById('image_upload')
        image_upload.addEventListener('change', () => {
            if (getFileExtension(image_upload.files[0]) !== "jpg") {
                alert("Only JPG images are supported")
                image_upload.value=''
            }
        })
    </script>
    <button onclick="uploadImage()">Upload Image</button>

    <button onclick="signIn()" id="sign-in">Sign In</button>
    <button onclick="changeImage(-1)" id="previous_image">Previous</button>
    <button onclick="changeImage(1)" id="next_image">Next</button>
    <script>
        let previous_image = document.getElementById('previous_image')
        let next_image = document.getElementById('next_image')

        previous_image.hidden = true;
        next_image.hidden = true;
    </script>
</div>

</body>
</html>